<%- include("./partials/header") %>

    <div class="container">
        <div class="text-center my-4">
            <h1>Todos List</h1>
            <button class="btn btn-primary rounded-circle my-2" data-toggle="modal" data-target="#newTodo"><i
                    class="fa fa-plus"></i></button>
            <button class="btn btn-primary rounded-circle my-2" data-toggle="modal" data-target="#updateTodo"><i
                    class="fa fa-pencil"></i></button>
            <h4 class="my-2">Today's Todo</h4>
            <span>
                <div class="text-right">Date: <span id="time"></span></div>
            </span>
        </div>
        <ul class="list-group">
            <% if (todo.length> 0) { %>
                <% todo.forEach(todos=> { %>
                    <li class="list-group-item">
                        <%= todos.todo %>
                            <span>
                                <div class="btn-group float-right" role="group">

                                    <a href="/delete/todo/<%= todos._id %>"><button class="btn btn-danger btn-sm"><i
                                                class="fa fa-trash mx-1"></i>Delete</button></a>
                                </div>
                            </span>
                    </li>
                    <%}) %>
                        <%} else { %>
                            <p class="text-center"> No Todos to Display </p>
                            <% } %>



        </ul>
    </div>

    <div class="modal" id="newTodo" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add Todo</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form action="/add/todo" method="POST" class="d-flex">
                        <input type="text" name="todo" class="form-control" placeholder="Enter Todo">
                        <input type="submit" value="Add Todo" class="btn btn-sm btn-success mx-2">
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="updateTodo" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Update Todo</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <% todo.forEach(todos=> { %>
                        <form action="/update/todo/<%= todos._id %>" method="POST" class="d-flex">
                            <input type="text" value="<%= todos.todo %>" name="todo" class="form-control"
                                placeholder="Enter Todo">
                            <input type="submit" value="Update Todo" class="btn btn-sm btn-success mx-2">
                        </form>
                        <br>
                        <%}) %>
                </div>
            </div>
        </div>
    </div>


    <%- include("./partials/footer") %>